{% macro generate_contents(itrbl, includes_headers=true, no_data="There is no data to display") -%}
{% set headers = includes_headers -%}
{%- for result in itrbl %}
<tr>
{% if headers -%}
{% for entry in result -%}
<th>{{entry}}</th>
{% endfor -%}
{% set headers = false -%}
{% else -%}
{% for entry in result -%}
<td>{{entry}}</td>
{% endfor -%}
{% endif -%}
</tr>
{%- else %}
<tr><td>{{no_data}}</td></tr>
{%- endfor %}
{%- endmacro %}